{
  "originalPath": "src\\pages\\EmailStudio.tsx",
  "timestamp": "2025-10-15T16:14:13.608Z",
  "hash": "b6ec087e566c8215fef0769e592897a8e9b4feea67d5b9fe8cbe590a7a1323d2",
  "size": 12583,
  "content": "import { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport EmailEditor from '@/components/EmailEditor';\r\nimport LogoManager from '@/components/LogoManager';\r\nimport AppointmentWidget from '@/components/AppointmentWidget';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Textarea } from '@/components/ui/textarea';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Separator } from '@/components/ui/separator';\r\nimport {\r\n  Mail,\r\n  Send,\r\n  Save,\r\n  Share2,\r\n  Eye,\r\n  Edit3,\r\n  FileText,\r\n  Trash2,\r\n  Plus,\r\n  Search,\r\n  Filter,\r\n  Star,\r\n  Archive,\r\n  ArrowLeft,\r\n  Calendar,\r\n} from 'lucide-react';\r\nconst EmailStudio = () => {\r\n  const navigate = useNavigate();\r\n  const [activeTab, setActiveTab] = useState('compose');\r\n  const [drafts, setDrafts] = useState([\r\n    {\r\n      id: 1,\r\n      subject: 'Welcome Email Draft',\r\n      lastModified: '2 hours ago',\r\n      starred: true,\r\n    },\r\n    {\r\n      id: 2,\r\n      subject: 'Product Launch Announcement',\r\n      lastModified: '1 day ago',\r\n      starred: false,\r\n    },\r\n    {\r\n      id: 3,\r\n      subject: 'Monthly Newsletter',\r\n      lastModified: '3 days ago',\r\n      starred: false,\r\n    },\r\n  ]);\r\n\r\n  return (\r\n    <div className='min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4'>\r\n      <div className='max-w-7xl mx-auto'>\r\n        <div className='mb-8 flex items-center gap-4'>\r\n          <Button\r\n            variant='outline'\r\n            onClick={() => navigate(-1)}\r\n            className='flex items-center gap-2'\r\n          >\r\n            <ArrowLeft className='w-4 h-4' />\r\n            Back\r\n          </Button>\r\n          <div>\r\n            <h1 className='text-4xl font-bold text-gray-900 mb-2'>\r\n              Email Studio\r\n            </h1>\r\n            <p className='text-gray-600'>\r\n              Create, edit, and manage professional emails\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <Tabs\r\n          value={activeTab}\r\n          onValueChange={setActiveTab}\r\n          className='space-y-6'\r\n        >\r\n          <TabsList className='grid w-full grid-cols-5'>\r\n            <TabsTrigger value='compose' className='flex items-center gap-2'>\r\n              <Edit3 className='w-4 h-4' />\r\n              Compose\r\n            </TabsTrigger>\r\n            <TabsTrigger value='branding' className='flex items-center gap-2'>\r\n              <Mail className='w-4 h-4' />\r\n              Branding\r\n            </TabsTrigger>\r\n            <TabsTrigger value='drafts' className='flex items-center gap-2'>\r\n              <FileText className='w-4 h-4' />\r\n              Drafts\r\n            </TabsTrigger>\r\n            <TabsTrigger value='templates' className='flex items-center gap-2'>\r\n              <Mail className='w-4 h-4' />\r\n              Templates\r\n            </TabsTrigger>\r\n            <TabsTrigger value='sent' className='flex items-center gap-2'>\r\n              <Send className='w-4 h-4' />\r\n              Sent\r\n            </TabsTrigger>\r\n          </TabsList>\r\n\r\n          <TabsContent value='branding' className='space-y-6'>\r\n            <div className='grid grid-cols-1 lg:grid-cols-2 gap-6'>\r\n              <LogoManager\r\n                onLogoSelect={(logoUrl, logoType) =>\r\n                  console.log('Logo selected:', logoUrl, logoType)\r\n                }\r\n              />\r\n              <Card>\r\n                <CardHeader>\r\n                  <CardTitle>Email Signature Settings</CardTitle>\r\n                </CardHeader>\r\n                <CardContent className='space-y-4'>\r\n                  <div>\r\n                    <Label htmlFor='signature-name'>Full Name</Label>\r\n                    <Input id='signature-name' placeholder='John Doe' />\r\n                  </div>\r\n                  <div>\r\n                    <Label htmlFor='signature-title'>Job Title</Label>\r\n                    <Input id='signature-title' placeholder='Senior Manager' />\r\n                  </div>\r\n                  <div>\r\n                    <Label htmlFor='signature-company'>Company</Label>\r\n                    <Input\r\n                      id='signature-company'\r\n                      placeholder='Your Company Name'\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <Label htmlFor='signature-phone'>Phone</Label>\r\n                    <Input\r\n                      id='signature-phone'\r\n                      placeholder='+1 (555) 123-4567'\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <Label htmlFor='signature-email'>Email</Label>\r\n                    <Input\r\n                      id='signature-email'\r\n                      placeholder='john@company.com'\r\n                    />\r\n                  </div>\r\n                  <Button className='w-full'>Update Signature</Button>\r\n                </CardContent>\r\n              </Card>\r\n            </div>\r\n          </TabsContent>\r\n          <TabsContent value='compose' className='space-y-6'>\r\n            <div className='grid grid-cols-1 lg:grid-cols-4 gap-6'>\r\n              <div className='lg:col-span-3'>\r\n                <EmailEditor\r\n                  onSave={email => console.log('Saving email:', email)}\r\n                  onSend={async email => {\r\n                    try {\r\n                      const response = await fetch('/functions/v1/send-email', {\r\n                        method: 'POST',\r\n                        headers: { 'Content-Type': 'application/json' },\r\n                        body: JSON.stringify({\r\n                          to: email.to,\r\n                          subject: email.subject,\r\n                          content: email.content || email.htmlContent || '',\r\n                        }),\r\n                      });\r\n                      if (!response.ok) {\r\n                        const error = await response.text();\r\n                        alert('Failed to send email: ' + error);\r\n                      } else {\r\n                        alert('Email sent successfully!');\r\n                      }\r\n                    } catch (err) {\r\n                      alert('Error sending email: ' + (err.message || err));\r\n                    }\r\n                  }}\r\n                />\r\n              </div>\r\n              <div className='space-y-4'>\r\n                <AppointmentWidget context='email-studio' compact />\r\n                <Card className='p-4'>\r\n                  <h3 className='font-semibold mb-3 flex items-center gap-2'>\r\n                    <Calendar className='w-4 h-4' />\r\n                    Quick Actions\r\n                  </h3>\r\n                  <div className='space-y-2'>\r\n                    <Button\r\n                      size='sm'\r\n                      variant='outline'\r\n                      className='w-full justify-start'\r\n                    >\r\n                      Schedule Follow-up\r\n                    </Button>\r\n                    <Button\r\n                      size='sm'\r\n                      variant='outline'\r\n                      className='w-full justify-start'\r\n                    >\r\n                      Set Reminder\r\n                    </Button>\r\n                    <Button\r\n                      size='sm'\r\n                      variant='outline'\r\n                      className='w-full justify-start'\r\n                    >\r\n                      Book Meeting\r\n                    </Button>\r\n                  </div>\r\n                </Card>\r\n              </div>\r\n            </div>\r\n          </TabsContent>\r\n\r\n          <TabsContent value='drafts' className='space-y-6'>\r\n            <div className='flex justify-between items-center'>\r\n              <h2 className='text-2xl font-semibold'>Draft Emails</h2>\r\n              <div className='flex gap-2'>\r\n                <Button variant='outline' size='sm'>\r\n                  <Search className='w-4 h-4 mr-2' />\r\n                  Search\r\n                </Button>\r\n                <Button variant='outline' size='sm'>\r\n                  <Filter className='w-4 h-4 mr-2' />\r\n                  Filter\r\n                </Button>\r\n              </div>\r\n            </div>\r\n            <div className='grid gap-4'>\r\n              {drafts.map(draft => (\r\n                <Card\r\n                  key={draft.id}\r\n                  className='hover:shadow-md transition-shadow'\r\n                >\r\n                  <CardContent className='p-4'>\r\n                    <div className='flex items-center justify-between'>\r\n                      <div className='flex items-center gap-3'>\r\n                        {draft.starred && (\r\n                          <Star className='w-4 h-4 text-yellow-500 fill-current' />\r\n                        )}\r\n                        <div>\r\n                          <h3 className='font-medium'>{draft.subject}</h3>\r\n                          <p className='text-sm text-gray-500'>\r\n                            Last modified {draft.lastModified}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                      <div className='flex gap-2'>\r\n                        <Button size='sm' variant='outline'>\r\n                          <Edit3 className='w-4 h-4' />\r\n                        </Button>\r\n                        <Button size='sm' variant='outline'>\r\n                          <Eye className='w-4 h-4' />\r\n                        </Button>\r\n                        <Button size='sm' variant='outline'>\r\n                          <Trash2 className='w-4 h-4' />\r\n                        </Button>\r\n                      </div>\r\n                    </div>\r\n                  </CardContent>\r\n                </Card>\r\n              ))}\r\n            </div>\r\n          </TabsContent>\r\n\r\n          <TabsContent value='templates' className='space-y-6'>\r\n            <div className='flex justify-between items-center'>\r\n              <h2 className='text-2xl font-semibold'>Email Templates</h2>\r\n              <Button className='flex items-center gap-2'>\r\n                <Plus className='w-4 h-4' />\r\n                New Template\r\n              </Button>\r\n            </div>\r\n            <div className='grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6'>\r\n              {[\r\n                'Welcome Email',\r\n                'Newsletter',\r\n                'Product Launch',\r\n                'Thank You',\r\n                'Follow Up',\r\n                'Promotional',\r\n              ].map(template => (\r\n                <Card\r\n                  key={template}\r\n                  className='hover:shadow-lg transition-shadow cursor-pointer'\r\n                >\r\n                  <CardHeader>\r\n                    <CardTitle className='text-lg'>{template}</CardTitle>\r\n                  </CardHeader>\r\n                  <CardContent>\r\n                    <p className='text-sm text-gray-600 mb-4'>\r\n                      Professional {template.toLowerCase()} template\r\n                    </p>\r\n                    <div className='flex gap-2'>\r\n                      <Button size='sm' variant='outline'>\r\n                        Use Template\r\n                      </Button>\r\n                      <Button size='sm' variant='outline'>\r\n                        Preview\r\n                      </Button>\r\n                    </div>\r\n                  </CardContent>\r\n                </Card>\r\n              ))}\r\n            </div>\r\n          </TabsContent>\r\n\r\n          <TabsContent value='sent' className='space-y-6'>\r\n            <div className='flex justify-between items-center'>\r\n              <h2 className='text-2xl font-semibold'>Sent Emails</h2>\r\n              <Badge variant='secondary'>24 emails sent this month</Badge>\r\n            </div>\r\n            <Card>\r\n              <CardContent className='p-6'>\r\n                <div className='text-center py-8'>\r\n                  <Archive className='w-12 h-12 text-gray-400 mx-auto mb-4' />\r\n                  <h3 className='text-lg font-medium text-gray-900 mb-2'>\r\n                    No sent emails yet\r\n                  </h3>\r\n                  <p className='text-gray-500'>\r\n                    Your sent emails will appear here\r\n                  </p>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </TabsContent>\r\n        </Tabs>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EmailStudio;\r\n"
}