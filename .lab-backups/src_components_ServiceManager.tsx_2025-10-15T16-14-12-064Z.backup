{
  "originalPath": "src\\components\\ServiceManager.tsx",
  "timestamp": "2025-10-15T16:14:12.064Z",
  "hash": "5faa110f9a46c1785faefa01e59250fb80cf27e5dbf83452cc8c5b320d5859c7",
  "size": 2448,
  "content": "import React, { useState, useEffect } from 'react';\r\nimport BulkUploadServices from './BulkUploadServices';\r\nimport { supabase } from '@/lib/supabase';\r\n\r\ntype Service = {\r\n  id: string;\r\n  name: string;\r\n  sku?: string;\r\n  default_rate?: number;\r\n};\r\n\r\nexport default function ServiceManager() {\r\n  const [services, setServices] = useState<Service[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const fetchServices = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    const { data, error } = await supabase\r\n      .from('services')\r\n      .select('*')\r\n      .order('name');\r\n    if (error) setError(error.message);\r\n    else setServices(data || []);\r\n    setLoading(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchServices();\r\n  }, []);\r\n\r\n  return (\r\n    <div className='max-w-3xl mx-auto p-6'>\r\n      <h1 className='text-3xl font-bold mb-6'>Service & Product Manager</h1>\r\n      <BulkUploadServices table='services' onComplete={fetchServices} />\r\n      <div className='mt-8'>\r\n        <h2 className='text-xl font-semibold mb-2'>\r\n          Current Services/Products\r\n        </h2>\r\n        {loading ? (\r\n          <div className='p-4 text-gray-500'>Loading...</div>\r\n        ) : error ? (\r\n          <div className='p-4 text-red-600'>{error}</div>\r\n        ) : services.length === 0 ? (\r\n          <div className='p-4 text-gray-400'>No services/products found.</div>\r\n        ) : (\r\n          <div className='overflow-x-auto border rounded'>\r\n            <table className='min-w-full text-sm'>\r\n              <thead>\r\n                <tr>\r\n                  <th className='px-3 py-2 border-b bg-gray-50'>Name</th>\r\n                  <th className='px-3 py-2 border-b bg-gray-50'>SKU</th>\r\n                  <th className='px-3 py-2 border-b bg-gray-50'>\r\n                    Default Rate\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {services.map(s => (\r\n                  <tr key={s.id} className='odd:bg-gray-50'>\r\n                    <td className='px-3 py-2 border-b'>{s.name}</td>\r\n                    <td className='px-3 py-2 border-b'>{s.sku}</td>\r\n                    <td className='px-3 py-2 border-b'>{s.default_rate}</td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"
}