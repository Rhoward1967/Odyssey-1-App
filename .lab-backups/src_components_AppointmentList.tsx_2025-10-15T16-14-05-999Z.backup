{
  "originalPath": "src\\components\\AppointmentList.tsx",
  "timestamp": "2025-10-15T16:14:05.999Z",
  "hash": "1d6a74dce32ec7ab15afbccb5f25a0067cd351399a3ed2bba73e8cf1fcbee792",
  "size": 2667,
  "content": "import React, { useState } from 'react';\r\nimport { createClient } from '@supabase/supabase-js';\r\n\r\n// This should be initialized from your central Supabase client instance\r\nconst supabase = createClient(\r\n  import.meta.env.VITE_SUPABASE_URL!,\r\n  import.meta.env.VITE_SUPABASE_ANON_KEY!\r\n);\r\n\r\n// Type definition for a single appointment object\r\ntype Appointment = {\r\n  id: string;\r\n  title: string;\r\n  start_time: string;\r\n  end_time: string;\r\n  status: 'Confirmed' | 'Tentative' | 'Cancelled';\r\n};\r\n\r\n// Props for the AppointmentList component\r\ntype AppointmentListProps = {\r\n  appointments: Appointment[];\r\n  onEdit: (appointment: Appointment) => void;\r\n  onDelete: (appointmentId: string) => void;\r\n};\r\n\r\n\r\nexport default function AppointmentList({ appointments, onEdit, onDelete }: AppointmentListProps) {\r\n  // --- NEW STATE FOR ERROR HANDLING ---\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  if (appointments.length === 0 && !error) {\r\n    return <p className=\"text-center text-gray-500\">No appointments scheduled.</p>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {/* --- NEW UI ELEMENT TO DISPLAY ERRORS --- */}\r\n      {error && (\r\n        <div className=\"p-3 bg-red-100 text-red-700 rounded-lg\" role=\"alert\">\r\n          <p>{error}</p>\r\n        </div>\r\n      )}\r\n      {appointments.map((app) => (\r\n        <div key={app.id} className=\"p-4 bg-white border rounded-lg shadow-sm flex justify-between items-center\">\r\n          <div>\r\n            <h3 className=\"font-bold text-lg text-gray-800\">{app.title}</h3>\r\n            <p className=\"text-sm text-gray-600\">\r\n              {new Date(app.start_time).toLocaleString()} - {new Date(app.end_time).toLocaleString()}\r\n            </p>\r\n            <span className={`inline-block px-2 py-1 text-xs font-semibold rounded-full ${\r\n              app.status === 'Confirmed' ? 'bg-green-100 text-green-800' :\r\n              app.status === 'Tentative' ? 'bg-yellow-100 text-yellow-800' :\r\n              'bg-red-100 text-red-800'\r\n            }`}>\r\n              {app.status}\r\n            </span>\r\n          </div>\r\n          <div className=\"space-x-2\">\r\n            <button\r\n              onClick={() => onEdit(app)}\r\n              className=\"px-3 py-1 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700\"\r\n            >\r\n              Edit\r\n            </button>\r\n            <button\r\n              onClick={() => onDelete(app.id)}\r\n              className=\"px-3 py-1 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700\"\r\n            >\r\n              Delete\r\n            </button>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n"
}