{
  "originalPath": "src\\components\\GovernmentRFPPortal.tsx",
  "timestamp": "2025-09-24T20:10:14.204Z",
  "hash": "f0d585d900a48c0b1b0f85a4dbf50dfb711ad67cd5b9de0f315e156812d090e1",
  "size": 10296,
  "content": "import React, { useState } from 'react';\r\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/card';\r\nimport { Badge } from './ui/badge';\r\nimport { Button } from './ui/button';\r\nimport { Input } from './ui/input';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from './ui/select';\r\nimport { Building, Calendar, DollarSign, FileText, Search, Star, Clock } from 'lucide-react';\r\n\r\ninterface RFP {\r\n  id: string;\r\n  title: string;\r\n  agency: string;\r\n  solicitation: string;\r\n  description: string;\r\n  dueDate: string;\r\n  value: string;\r\n  category: string;\r\n  status: 'open' | 'closing-soon' | 'closed';\r\n  location: string;\r\n  setAside: string;\r\n  postedDate: string;\r\n}\r\n\r\n\r\n\r\nimport { useEffect } from 'react';\r\nimport { supabase } from '../lib/supabase';\r\n\r\nexport default function GovernmentRFPPortal() {\r\n  const [rfps, setRfps] = useState<RFP[]>([]);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [filterCategory, setFilterCategory] = useState('all');\r\n  const [filterStatus, setFilterStatus] = useState('all');\r\n\r\n  useEffect(() => {\r\n    loadRFPs();\r\n  }, []);\r\n\r\n  const loadRFPs = async () => {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('rfps')\r\n        .select('*')\r\n        .order('dueDate', { ascending: false });\r\n      if (error) throw error;\r\n      setRfps(data || []);\r\n    } catch (error) {\r\n      console.error('Failed to load RFPs:', error);\r\n      setRfps([]);\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status: string) => {\r\n    const colors = {\r\n      'open': 'bg-green-100 text-green-800',\r\n      'closing-soon': 'bg-yellow-100 text-yellow-800',\r\n      'closed': 'bg-red-100 text-red-800'\r\n    };\r\n    return colors[status as keyof typeof colors] || 'bg-gray-100 text-gray-800';\r\n  };\r\n\r\n  const filteredRFPs = rfps.filter(rfp => {\r\n    const matchesSearch = rfp.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                         rfp.agency.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                         rfp.description.toLowerCase().includes(searchTerm.toLowerCase());\r\n    const matchesCategory = filterCategory === 'all' || rfp.category === filterCategory;\r\n    const matchesStatus = filterStatus === 'all' || rfp.status === filterStatus;\r\n    return matchesSearch && matchesCategory && matchesStatus;\r\n  });\r\n\r\n  const getDaysUntilDue = (dueDate: string) => {\r\n    const due = new Date(dueDate);\r\n    const today = new Date();\r\n    const diffTime = due.getTime() - today.getTime();\r\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n    return diffDays;\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"relative\">\r\n        <div \r\n          className=\"absolute inset-0 bg-cover bg-center rounded-lg\"\r\n          style={{ backgroundImage: 'url(https://d64gsuwffb70l.cloudfront.net/68bb2ebf0d23e919bfda74fb_1757917338906_cd1e8726.webp)' }}\r\n        >\r\n          <div className=\"absolute inset-0 bg-blue-900/80 rounded-lg\"></div>\r\n        </div>\r\n        <div className=\"relative p-8 text-white\">\r\n          <h1 className=\"text-4xl font-bold mb-4\">Government RFP Portal</h1>\r\n          <p className=\"text-xl opacity-90\">Access federal, state, and local contracting opportunities</p>\r\n          <div className=\"flex items-center gap-4 mt-4\">\r\n            <Badge className=\"bg-white text-blue-900\">SAM.gov Registered</Badge>\r\n            <Badge className=\"bg-white text-blue-900\">DUNS: 82-902-9292</Badge>\r\n            <Badge className=\"bg-white text-blue-900\">36+ Years Experience</Badge>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Quick Stats */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\r\n        <Card>\r\n          <CardContent className=\"p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm font-medium text-gray-600\">Active RFPs</p>\r\n                <p className=\"text-3xl font-bold text-blue-600\">{rfps.filter(r => r.status === 'open').length}</p>\r\n              </div>\r\n              <FileText className=\"w-8 h-8 text-blue-600\" />\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardContent className=\"p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm font-medium text-gray-600\">Closing Soon</p>\r\n                <p className=\"text-3xl font-bold text-yellow-600\">{rfps.filter(r => r.status === 'closing-soon').length}</p>\r\n              </div>\r\n              <Clock className=\"w-8 h-8 text-yellow-600\" />\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardContent className=\"p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm font-medium text-gray-600\">Total Value</p>\r\n                <p className=\"text-3xl font-bold text-green-600\">$3.9M+</p>\r\n              </div>\r\n              <DollarSign className=\"w-8 h-8 text-green-600\" />\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardContent className=\"p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm font-medium text-gray-600\">Win Rate</p>\r\n                <p className=\"text-3xl font-bold text-purple-600\">78%</p>\r\n              </div>\r\n              <Star className=\"w-8 h-8 text-purple-600\" />\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <div className=\"flex flex-col lg:flex-row gap-4\">\r\n        <div className=\"flex-1\">\r\n          <Input\r\n            placeholder=\"Search RFPs by title, agency, or description...\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n            className=\"w-full\"\r\n          />\r\n        </div>\r\n        <Select value={filterCategory} onValueChange={setFilterCategory}>\r\n          <SelectTrigger className=\"w-full lg:w-64\">\r\n            <SelectValue placeholder=\"Filter by category\" />\r\n          </SelectTrigger>\r\n          <SelectContent>\r\n            <SelectItem value=\"all\">All Categories</SelectItem>\r\n            <SelectItem value=\"Janitorial Services\">Janitorial Services</SelectItem>\r\n            <SelectItem value=\"Information Technology\">Information Technology</SelectItem>\r\n            <SelectItem value=\"Facility Maintenance\">Facility Maintenance</SelectItem>\r\n          </SelectContent>\r\n        </Select>\r\n        <Select value={filterStatus} onValueChange={setFilterStatus}>\r\n          <SelectTrigger className=\"w-full lg:w-48\">\r\n            <SelectValue placeholder=\"Filter by status\" />\r\n          </SelectTrigger>\r\n          <SelectContent>\r\n            <SelectItem value=\"all\">All Statuses</SelectItem>\r\n            <SelectItem value=\"open\">Open</SelectItem>\r\n            <SelectItem value=\"closing-soon\">Closing Soon</SelectItem>\r\n            <SelectItem value=\"closed\">Closed</SelectItem>\r\n          </SelectContent>\r\n        </Select>\r\n      </div>\r\n\r\n      {/* RFP Listings */}\r\n      <div className=\"space-y-6\">\r\n        {filteredRFPs.map((rfp) => (\r\n          <Card key={rfp.id} className=\"hover:shadow-lg transition-shadow\">\r\n            <CardHeader>\r\n              <div className=\"flex items-start justify-between\">\r\n                <div className=\"flex-1\">\r\n                  <CardTitle className=\"text-xl text-blue-900 mb-2\">{rfp.title}</CardTitle>\r\n                  <div className=\"flex items-center gap-4 text-sm text-gray-600\">\r\n                    <div className=\"flex items-center gap-1\">\r\n                      <Building className=\"w-4 h-4\" />\r\n                      {rfp.agency}\r\n                    </div>\r\n                    <div className=\"flex items-center gap-1\">\r\n                      <FileText className=\"w-4 h-4\" />\r\n                      {rfp.solicitation}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Badge className={getStatusColor(rfp.status)}>\r\n                    {rfp.status.replace('-', ' ').toUpperCase()}\r\n                  </Badge>\r\n                  {rfp.status === 'closing-soon' && (\r\n                    <Badge variant=\"destructive\">\r\n                      {getDaysUntilDue(rfp.dueDate)} days left\r\n                    </Badge>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <p className=\"text-gray-700 mb-4\">{rfp.description}</p>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4\">\r\n                <div>\r\n                  <p className=\"text-sm font-medium text-gray-600\">Due Date</p>\r\n                  <p className=\"text-sm text-gray-900\">{new Date(rfp.dueDate).toLocaleDateString()}</p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-sm font-medium text-gray-600\">Contract Value</p>\r\n                  <p className=\"text-sm text-gray-900\">{rfp.value}</p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-sm font-medium text-gray-600\">Location</p>\r\n                  <p className=\"text-sm text-gray-900\">{rfp.location}</p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-sm font-medium text-gray-600\">Set Aside</p>\r\n                  <p className=\"text-sm text-gray-900\">{rfp.setAside}</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-center justify-between\">\r\n                <Badge variant=\"outline\">{rfp.category}</Badge>\r\n                <div className=\"flex gap-2\">\r\n                  <Button variant=\"outline\" size=\"sm\">\r\n                    <FileText className=\"w-4 h-4 mr-2\" />\r\n                    View Details\r\n                  </Button>\r\n                  <Button size=\"sm\" className=\"bg-blue-600 hover:bg-blue-700\">\r\n                    Submit Proposal\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}"
}